jQuery((function(i){i(".so-widget-toggle-active button").click((function(){var s=i(this),t=s.data("status"),e=s.closest(".so-widget");t?e.addClass("so-widget-is-active").removeClass("so-widget-is-inactive"):e.removeClass("so-widget-is-active").addClass("so-widget-is-inactive"),i.post(soWidgetsAdmin.toggleUrl,{widget:e.data("id"),active:t},(function(i){}))})),i(".so-widget-banner").each((function(){var s=i(this),t=s.find("img");if(t.length)t.width()>128&&t.css("margin-left",-(t.width()-128)/2);else{var e=Trianglify({width:128,height:128,variance:1,cell_size:32,seed:s.data("seed")});s.append(e.svg())}}));var s=function(){var s=i(this).val().toLowerCase();""===s?i(".so-widget-wrap").show():i(".so-widget").each((function(){var t=i(this);t.find("h3").html().toLowerCase().indexOf(s)>-1?t.parent().show():t.parent().hide()}))};i("#sow-widget-search input").on({keyup:s,search:s}),i(window).resize((function(){var s=i(".so-widget-text").css("height","auto"),t=0;s.each((function(){t=Math.max(t,i(this).height())})),s.each((function(){i(this).css("height",t)}))})).resize(),i("#sow-widgets-page .page-nav a").click((function(s){s.preventDefault();var t=i(this),e=t.attr("href"),a=t.closest("li");switch(i("#sow-widgets-page .page-nav li").not(a).removeClass("active"),a.addClass("active"),e){case"#all":i(".so-widget-wrap").show();break;case"#enabled":i(".so-widget-wrap").hide(),i(".so-widget-wrap .so-widget-is-active").each((function(){i(this).closest(".so-widget-wrap").show()})),i(".so-widget-wrap .so-widget-is-inactive").each((function(){i(this).closest(".so-widget-wrap").hide()}));break;case"#disabled":i(".so-widget-wrap .so-widget-is-active").each((function(){i(this).closest(".so-widget-wrap").hide()})),i(".so-widget-wrap .so-widget-is-inactive").each((function(){i(this).closest(".so-widget-wrap").show()}))}i(window).resize()})),i("#widgets-list").addClass("so-animated");var t=i("#sow-settings-dialog");if(i("#widgets-list .so-widget-settings").click((function(s){var e=i(this);s.preventDefault(),t.find(".so-content").empty().addClass("so-loading").load(e.data("form-url"),(function(){i(this).removeClass("so-loading")})),t.show()})),t.find(".so-close").click((function(i){i.preventDefault(),t.hide()})),t.find(".so-save").click((function(s){s.preventDefault();var e=i(this);e.prop("disabled",!0),i("#widgets-list .so-widget-settings").prop("disabled",!0),t.find("form").submit((function(){e.prop("disabled",!1),t.hide()})).submit()})),i("#so-widget-settings-save").load((function(){i("#widgets-list .so-widget-settings").prop("disabled",!1)})),window.location.hash&&"#settings-"===window.location.hash.substring(0,10)){var e=window.location.hash.substring(10);i('div[data-id="'+e+'"] button.so-widget-settings').click()}}));