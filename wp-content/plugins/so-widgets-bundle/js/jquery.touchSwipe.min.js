!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery.touchSwipe.js"],e):e(jQuery)}((function(e){"use strict";var n="left",t="up",i="ontouchstart"in window,r=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,l=window.navigator.pointerEnabled||window.navigator.msPointerEnabled;function o(n){return!n||void 0!==n.allowPageScroll||void 0===n.swipe&&void 0===n.swipeStatus||(n.allowPageScroll="none"),void 0!==n.click&&void 0===n.tap&&(n.tap=n.click),n||(n={}),n=e.extend({},e.fn.swipe.defaults,n),this.each((function(){var t=e(this),i=t.data("TouchSwipe");i||(i=new a(this,n),t.data("TouchSwipe",i))}))}function a(o,a){var u=i||l||!a.fallbackToMouseEvents,c=u?l?r?"MSPointerDown":"pointerdown":"touchstart":"mousedown",s=u?l?r?"MSPointerMove":"pointermove":"touchmove":"mousemove",h=u?l?r?"MSPointerUp":"pointerup":"touchend":"mouseup",p=u?null:"mouseleave",d=l?r?"MSPointerCancel":"pointercancel":"touchcancel",f=0,g=null,w=0,v=0,T=0,b=1,S=0,m=0,E=null,y=e(o),O="start",x=0,M=null,P=0,D=0,L=0,R=0,k=0,A=null,I=null;try{y.bind(c,N),y.bind(d,H)}catch(n){e.error("events not supported "+c+","+d+" on jQuery.swipe")}function N(r){if(!0!==y.data("TouchSwipe_intouch")&&!(e(r.target).closest(a.excludedElements,y).length>0)){var l,o,u=r.originalEvent?r.originalEvent:r,c=i?u.touches[0]:u;return O="start",i?x=u.touches.length:r.preventDefault(),f=0,g=null,m=null,w=0,v=0,T=0,b=1,S=0,M=function(){for(var e=[],n=0;n<=5;n++)e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return e}(),(o={}).left=se(n),o.right=se("right"),o.up=se(t),o.down=se("down"),E=o,re(),!i||x===a.fingers||"all"===a.fingers||V()?(ae(0,c),P=de(),2==x&&(ae(1,u.touches[1]),v=T=pe(M[0].start,M[1].start)),(a.swipeStatus||a.pinchStatus)&&(l=X(u,O))):l=!1,!1===l?(X(u,O="cancel"),l):(a.hold&&(I=setTimeout(e.proxy((function(){y.trigger("hold",[u.target]),a.hold&&(l=a.hold.call(y,u,u.target))}),this),a.longTapThreshold)),oe(!0),null)}}function U(r){var l=r.originalEvent?r.originalEvent:r;if("end"!==O&&"cancel"!==O&&!le()){var o,u,c,s,h,p,d=ue(i?l.touches[0]:l);if(D=de(),i&&(x=l.touches.length),a.hold&&clearTimeout(I),O="move",2==x&&(0==v?(ae(1,l.touches[1]),v=T=pe(M[0].start,M[1].start)):(ue(l.touches[1]),T=pe(M[0].end,M[1].end),M[0].end,M[1].end,m=b<1?"out":"in"),b=(T/v*1).toFixed(2),S=Math.abs(v-T)),x===a.fingers||"all"===a.fingers||!i||V()){if(s=d.start,h=d.end,p=function(e,n){var t=e.x-n.x,i=n.y-e.y,r=Math.atan2(i,t),l=Math.round(180*r/Math.PI);return l<0&&(l=360-Math.abs(l)),l}(s,h),function(e,i){if(!1===a.preventDefaultEvents)return;if("none"===a.allowPageScroll)e.preventDefault();else{var r="auto"===a.allowPageScroll;switch(i){case n:(a.swipeLeft&&r||!r&&"horizontal"!=a.allowPageScroll)&&e.preventDefault();break;case"right":(a.swipeRight&&r||!r&&"horizontal"!=a.allowPageScroll)&&e.preventDefault();break;case t:(a.swipeUp&&r||!r&&"vertical"!=a.allowPageScroll)&&e.preventDefault();break;case"down":(a.swipeDown&&r||!r&&"vertical"!=a.allowPageScroll)&&e.preventDefault()}}}(r,g=p<=45&&p>=0?n:p<=360&&p>=315?n:p>=135&&p<=225?"right":p>45&&p<135?"down":t),f=function(e,n){return Math.round(Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)))}(d.start,d.end),w=he(),function(e,n){n=Math.max(n,ce(e)),E[e].distance=n}(g,f),(a.swipeStatus||a.pinchStatus)&&(o=X(l,O)),!a.triggerOnTouchEnd||a.triggerOnTouchLeave){var y=!0;if(a.triggerOnTouchLeave){var P={left:(c=(u=e(u=this)).offset()).left,right:c.left+u.outerWidth(),top:c.top,bottom:c.top+u.outerHeight()};y=function(e,n){return e.x>n.left&&e.x<n.right&&e.y>n.top&&e.y<n.bottom}(d.end,P)}!a.triggerOnTouchEnd&&y?O=C("move"):a.triggerOnTouchLeave&&!y&&(O=C("end")),"cancel"!=O&&"end"!=O||X(l,O)}}else X(l,O="cancel");!1===o&&X(l,O="cancel")}}function j(e){var n=e.originalEvent;return i&&n.touches.length>0?(ie(),!0):(le()&&(x=R),D=de(),w=he(),z()||!q()?X(n,O="cancel"):a.triggerOnTouchEnd||0==a.triggerOnTouchEnd&&"move"===O?(e.preventDefault(),X(n,O="end")):!a.triggerOnTouchEnd&&ee()?Y(n,O="end","tap"):"move"===O&&X(n,O="cancel"),oe(!1),null)}function H(){x=0,D=0,P=0,v=0,T=0,b=1,re(),oe(!1)}function _(e){var n=e.originalEvent;a.triggerOnTouchLeave&&X(n,O=C("end"))}function Q(){y.unbind(c,N),y.unbind(d,H),y.unbind(s,U),y.unbind(h,j),p&&y.unbind(p,_),oe(!1)}function C(e){var n=e,t=W(),i=q(),r=z();return!t||r?n="cancel":!i||"move"!=e||a.triggerOnTouchEnd&&!a.triggerOnTouchLeave?!i&&"end"==e&&a.triggerOnTouchLeave&&(n="cancel"):n="end",n}function X(e,n){var t=void 0;return J()||B()||G()||V()?((J()||B())&&(t=Y(e,n,"swipe")),(G()||V())&&!1!==t&&(t=Y(e,n,"pinch"))):te()&&ne()&&!1!==t?t=Y(e,n,"doubletap"):w>a.longTapThreshold&&f<10&&a.longTap&&!1!==t?t=Y(e,n,"longtap"):1!==x&&i||!(isNaN(f)||f<a.threshold)||!ee()||!1===t||(t=Y(e,n,"tap")),"cancel"===n&&H(),"end"===n&&(i?0==e.touches.length&&H():H()),t}function Y(i,r,l){var o=void 0;if("swipe"==l){if(y.trigger("swipeStatus",[r,g||null,f||0,w||0,x,M]),a.swipeStatus&&!1===(o=a.swipeStatus.call(y,i,r,g||null,f||0,w||0,x,M)))return!1;if("end"==r&&Z()){if(y.trigger("swipe",[g,f,w,x,M]),a.swipe&&!1===(o=a.swipe.call(y,i,g,f,w,x,M)))return!1;switch(g){case n:y.trigger("swipeLeft",[g,f,w,x,M]),a.swipeLeft&&(o=a.swipeLeft.call(y,i,g,f,w,x,M));break;case"right":y.trigger("swipeRight",[g,f,w,x,M]),a.swipeRight&&(o=a.swipeRight.call(y,i,g,f,w,x,M));break;case t:y.trigger("swipeUp",[g,f,w,x,M]),a.swipeUp&&(o=a.swipeUp.call(y,i,g,f,w,x,M));break;case"down":y.trigger("swipeDown",[g,f,w,x,M]),a.swipeDown&&(o=a.swipeDown.call(y,i,g,f,w,x,M))}}}if("pinch"==l){if(y.trigger("pinchStatus",[r,m||null,S||0,w||0,x,b,M]),a.pinchStatus&&!1===(o=a.pinchStatus.call(y,i,r,m||null,S||0,w||0,x,b,M)))return!1;if("end"==r&&F())switch(m){case"in":y.trigger("pinchIn",[m||null,S||0,w||0,x,b,M]),a.pinchIn&&(o=a.pinchIn.call(y,i,m||null,S||0,w||0,x,b,M));break;case"out":y.trigger("pinchOut",[m||null,S||0,w||0,x,b,M]),a.pinchOut&&(o=a.pinchOut.call(y,i,m||null,S||0,w||0,x,b,M))}}return"tap"==l?"cancel"!==r&&"end"!==r||(clearTimeout(A),clearTimeout(I),ne()&&!te()?(k=de(),A=setTimeout(e.proxy((function(){k=null,y.trigger("tap",[i.target]),a.tap&&(o=a.tap.call(y,i,i.target))}),this),a.doubleTapThreshold)):(k=null,y.trigger("tap",[i.target]),a.tap&&(o=a.tap.call(y,i,i.target)))):"doubletap"==l?"cancel"!==r&&"end"!==r||(clearTimeout(A),k=null,y.trigger("doubletap",[i.target]),a.doubleTap&&(o=a.doubleTap.call(y,i,i.target))):"longtap"==l&&("cancel"!==r&&"end"!==r||(clearTimeout(A),k=null,y.trigger("longtap",[i.target]),a.longTap&&(o=a.longTap.call(y,i,i.target)))),o}function q(){var e=!0;return null!==a.threshold&&(e=f>=a.threshold),e}function z(){var e=!1;return null!==a.cancelThreshold&&null!==g&&(e=ce(g)-f>=a.cancelThreshold),e}function W(){return!a.maxTimeThreshold||!(w>=a.maxTimeThreshold)}function F(){var e=K(),n=$(),t=null===a.pinchThreshold||S>=a.pinchThreshold;return e&&n&&t}function V(){return!!(a.pinchStatus||a.pinchIn||a.pinchOut)}function G(){return!(!F()||!V())}function Z(){var e=W(),n=q(),t=K(),i=$();return!z()&&i&&t&&n&&e}function B(){return!!(a.swipe||a.swipeStatus||a.swipeLeft||a.swipeRight||a.swipeUp||a.swipeDown)}function J(){return!(!Z()||!B())}function K(){return x===a.fingers||"all"===a.fingers||!i}function $(){return 0!==M[0].end.x}function ee(){return!!a.tap}function ne(){return!!a.doubleTap}function te(){if(null==k)return!1;var e=de();return ne()&&e-k<=a.doubleTapThreshold}function ie(){L=de(),R=event.touches.length+1}function re(){L=0,R=0}function le(){var e=!1;L&&(de()-L<=a.fingerReleaseThreshold&&(e=!0));return e}function oe(e){!0===e?(y.bind(s,U),y.bind(h,j),p&&y.bind(p,_)):(y.unbind(s,U,!1),y.unbind(h,j,!1),p&&y.unbind(p,_,!1)),y.data("TouchSwipe_intouch",!0===e)}function ae(e,n){var t=void 0!==n.identifier?n.identifier:0;return M[e].identifier=t,M[e].start.x=M[e].end.x=n.pageX||n.clientX,M[e].start.y=M[e].end.y=n.pageY||n.clientY,M[e]}function ue(e){var n=function(e){for(var n=0;n<M.length;n++)if(M[n].identifier==e)return M[n]}(void 0!==e.identifier?e.identifier:0);return n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function ce(e){if(E[e])return E[e].distance}function se(e){return{direction:e,distance:0}}function he(){return D-P}function pe(e,n){var t=Math.abs(e.x-n.x),i=Math.abs(e.y-n.y);return Math.round(Math.sqrt(t*t+i*i))}function de(){return(new Date).getTime()}this.enable=function(){return y.bind(c,N),y.bind(d,H),y},this.disable=function(){return Q(),y},this.destroy=function(){Q(),y.data("TouchSwipe",null),y=null},this.option=function(n,t){if(void 0!==a[n]){if(void 0===t)return a[n];a[n]=t}else e.error("Option "+n+" does not exist on jQuery.swipe.options");return null}}e.fn.swipe=function(n){var t=e(this),i=t.data("TouchSwipe");if(i&&"string"==typeof n){if(i[n])return i[n].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+n+" does not exist on jQuery.swipe")}else if(!(i||"object"!=typeof n&&n))return o.apply(this,arguments);return t},e.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:!0},e.fn.swipe.phases={PHASE_START:"start",PHASE_MOVE:"move",PHASE_END:"end",PHASE_CANCEL:"cancel"},e.fn.swipe.directions={LEFT:n,RIGHT:"right",UP:t,DOWN:"down",IN:"in",OUT:"out"},e.fn.swipe.pageScroll={NONE:"none",HORIZONTAL:"horizontal",VERTICAL:"vertical",AUTO:"auto"},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:"all"}}));